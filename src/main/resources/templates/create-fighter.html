<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <title>Create Fighter</title>
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        />
    </head>
    <body>
        <div class="container mt-5">
            <h2>Register New Fighter</h2>

            <form
                th:action="@{/create-fighter}"
                th:object="${fighter}"
                method="post"
                class="mt-4"
            >
                <div class="form-group">
                    <label>Name:</label>
                    <input
                        type="text"
                        th:field="*{name}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('name')} ? 'is-invalid' : ''"
                    />
                    <div
                        th:if="${#fields.hasErrors('name')}"
                        class="invalid-feedback"
                    >
                        <span th:errors="*{name}">Name is required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Health (1000-1500):</label>
                    <input
                        type="number"
                        th:field="*{health}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('health')} ? 'is-invalid' : ''"
                    />
                    <div
                        th:if="${#fields.hasErrors('health')}"
                        class="invalid-feedback"
                    >
                        <span th:errors="*{health}"
                            >Health must be >1000 and <1500</span
                        >
                    </div>
                </div>

                <div class="form-group">
                    <label>Damage (less than 100):</label>
                    <input
                        type="number"
                        step="0.1"
                        th:field="*{damage}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('damage')} ? 'is-invalid' : ''"
                    />
                    <div
                        th:if="${#fields.hasErrors('damage')}"
                        class="invalid-feedback"
                    >
                        <span th:errors="*{damage}"
                            >Damage must be less than 100</span
                        >
                    </div>
                </div>

                <div class="form-group">
                    <label>Resistance (0-10):</label>
                    <input
                        type="number"
                        step="0.1"
                        th:field="*{resistance}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('resistance')} ? 'is-invalid' : ''"
                    />
                    <div
                        th:if="${#fields.hasErrors('resistance')}"
                        class="invalid-feedback"
                    >
                        <span th:errors="*{resistance}"
                            >Resistance must be between 0 and 10</span
                        >
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">
                    Register Fighter
                </button>
                <a href="/fighters" class="btn btn-secondary">View Fighters</a>
            </form>
        </div>
    </body>
</html>
